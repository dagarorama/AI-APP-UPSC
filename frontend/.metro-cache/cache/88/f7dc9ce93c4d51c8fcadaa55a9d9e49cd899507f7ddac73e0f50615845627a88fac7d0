{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":49,"index":218}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/apiClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":219},"end":{"line":5,"column":50,"index":269}}],"key":"d/HXpukAiWkGTCYty91WRV0J1/M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApiClient = require(_dependencyMap[2], \"../services/apiClient\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    profile: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: false,\n    setUser: user => set({\n      user\n    }),\n    setProfile: profile => set({\n      profile\n    }),\n    setToken: async token => {\n      await SecureStore.setItemAsync('auth_token', token);\n      set({\n        token,\n        isAuthenticated: true\n      });\n    },\n    logout: async () => {\n      await SecureStore.deleteItemAsync('auth_token');\n      set({\n        user: null,\n        profile: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadUserData: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await SecureStore.getItemAsync('auth_token');\n        if (!token) {\n          set({\n            isAuthenticated: false,\n            isLoading: false\n          });\n          return;\n        }\n        const response = await _servicesApiClient.apiClient.get('/me', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        set({\n          user: response.data.user,\n          profile: response.data.profile,\n          token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Error loading user data:', error);\n        await get().logout();\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    setupProfile: async data => {\n      try {\n        const {\n          token\n        } = get();\n        await _servicesApiClient.apiClient.post('/profile/setup', data, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Reload user data to get updated profile\n        await get().loadUserData();\n      } catch (error) {\n        console.error('Error setting up profile:', error);\n        throw error;\n      }\n    },\n    authenticate: async (phone, otp) => {\n      try {\n        const response = await _servicesApiClient.apiClient.post('/auth/verify', {\n          phone,\n          otp\n        });\n        const {\n          token,\n          user_id\n        } = response.data;\n        await get().setToken(token);\n        await get().loadUserData();\n        return true;\n      } catch (error) {\n        console.error('Authentication error:', error);\n        return false;\n      }\n    }\n  }));\n\n  // Initialize auth state on app start\n  const initializeAuth = async () => {\n    const token = await SecureStore.getItemAsync('auth_token');\n    if (token) {\n      useAuthStore.getState().loadUserData();\n    }\n  };\n  initializeAuth();\n});","lineCount":139,"map":[[22,2,43,0,"Object"],[22,8,43,0],[22,9,43,0,"defineProperty"],[22,23,43,0],[22,24,43,0,"exports"],[22,31,43,0],[23,4,43,0,"enumerable"],[23,14,43,0],[24,4,43,0,"get"],[24,7,43,0],[24,18,43,0,"get"],[24,19,43,0],[25,6,43,0],[25,13,43,0,"useAuthStore"],[25,25,43,0],[26,4,43,0],[27,2,43,0],[28,2,1,0],[28,6,1,0,"_zustand"],[28,14,1,0],[28,17,1,0,"require"],[28,24,1,0],[28,25,1,0,"_dependencyMap"],[28,39,1,0],[29,2,4,0],[29,6,4,0,"_expoSecureStore"],[29,22,4,0],[29,25,4,0,"require"],[29,32,4,0],[29,33,4,0,"_dependencyMap"],[29,47,4,0],[30,2,4,0],[30,6,4,0,"SecureStore"],[30,17,4,0],[30,20,4,0,"_interopNamespace"],[30,37,4,0],[30,38,4,0,"_expoSecureStore"],[30,54,4,0],[31,2,5,0],[31,6,5,0,"_servicesApiClient"],[31,24,5,0],[31,27,5,0,"require"],[31,34,5,0],[31,35,5,0,"_dependencyMap"],[31,49,5,0],[32,2,43,7],[32,8,43,13,"useAuthStore"],[32,20,43,25],[32,23,43,28],[32,27,43,28,"create"],[32,35,43,34],[32,36,43,34,"create"],[32,42,43,34],[32,44,44,2],[32,45,44,3,"set"],[32,48,44,6],[32,50,44,8,"get"],[32,53,44,11],[32,59,44,17],[33,4,45,4,"user"],[33,8,45,8],[33,10,45,10],[33,14,45,14],[34,4,46,4,"profile"],[34,11,46,11],[34,13,46,13],[34,17,46,17],[35,4,47,4,"token"],[35,9,47,9],[35,11,47,11],[35,15,47,15],[36,4,48,4,"isAuthenticated"],[36,19,48,19],[36,21,48,21],[36,26,48,26],[37,4,49,4,"isLoading"],[37,13,49,13],[37,15,49,15],[37,20,49,20],[38,4,51,4,"setUser"],[38,11,51,11],[38,13,51,14,"user"],[38,17,51,18],[38,21,51,23,"set"],[38,24,51,26],[38,25,51,27],[39,6,51,29,"user"],[40,4,51,34],[40,5,51,35],[40,6,51,36],[41,4,53,4,"setProfile"],[41,14,53,14],[41,16,53,17,"profile"],[41,23,53,24],[41,27,53,29,"set"],[41,30,53,32],[41,31,53,33],[42,6,53,35,"profile"],[43,4,53,43],[43,5,53,44],[43,6,53,45],[44,4,55,4,"setToken"],[44,12,55,12],[44,14,55,14],[44,20,55,21,"token"],[44,25,55,26],[44,29,55,31],[45,6,56,6],[45,12,56,12,"SecureStore"],[45,23,56,23],[45,24,56,24,"setItemAsync"],[45,36,56,36],[45,37,56,37],[45,49,56,49],[45,51,56,51,"token"],[45,56,56,56],[45,57,56,57],[46,6,57,6,"set"],[46,9,57,9],[46,10,57,10],[47,8,57,12,"token"],[47,13,57,17],[48,8,57,19,"isAuthenticated"],[48,23,57,34],[48,25,57,36],[49,6,57,41],[49,7,57,42],[49,8,57,43],[50,4,58,4],[50,5,58,5],[51,4,60,4,"logout"],[51,10,60,10],[51,12,60,12],[51,18,60,12,"logout"],[51,19,60,12],[51,24,60,24],[52,6,61,6],[52,12,61,12,"SecureStore"],[52,23,61,23],[52,24,61,24,"deleteItemAsync"],[52,39,61,39],[52,40,61,40],[52,52,61,52],[52,53,61,53],[53,6,62,6,"set"],[53,9,62,9],[53,10,62,10],[54,8,63,8,"user"],[54,12,63,12],[54,14,63,14],[54,18,63,18],[55,8,64,8,"profile"],[55,15,64,15],[55,17,64,17],[55,21,64,21],[56,8,65,8,"token"],[56,13,65,13],[56,15,65,15],[56,19,65,19],[57,8,66,8,"isAuthenticated"],[57,23,66,23],[57,25,66,25],[58,6,67,6],[58,7,67,7],[58,8,67,8],[59,4,68,4],[59,5,68,5],[60,4,70,4,"loadUserData"],[60,16,70,16],[60,18,70,18],[60,24,70,18,"loadUserData"],[60,25,70,18],[60,30,70,30],[61,6,71,6],[61,10,71,10],[62,8,72,8,"set"],[62,11,72,11],[62,12,72,12],[63,10,72,14,"isLoading"],[63,19,72,23],[63,21,72,25],[64,8,72,30],[64,9,72,31],[64,10,72,32],[65,8,73,8],[65,14,73,14,"token"],[65,19,73,19],[65,22,73,22],[65,28,73,28,"SecureStore"],[65,39,73,39],[65,40,73,40,"getItemAsync"],[65,52,73,52],[65,53,73,53],[65,65,73,65],[65,66,73,66],[66,8,75,8],[66,12,75,12],[66,13,75,13,"token"],[66,18,75,18],[66,20,75,20],[67,10,76,10,"set"],[67,13,76,13],[67,14,76,14],[68,12,76,16,"isAuthenticated"],[68,27,76,31],[68,29,76,33],[68,34,76,38],[69,12,76,40,"isLoading"],[69,21,76,49],[69,23,76,51],[70,10,76,57],[70,11,76,58],[70,12,76,59],[71,10,77,10],[72,8,78,8],[73,8,80,8],[73,14,80,14,"response"],[73,22,80,22],[73,25,80,25],[73,31,80,31,"apiClient"],[73,49,80,40],[73,50,80,40,"apiClient"],[73,59,80,40],[73,60,80,41,"get"],[73,63,80,44],[73,64,80,45],[73,69,80,50],[73,71,80,52],[74,10,81,10,"headers"],[74,17,81,17],[74,19,81,19],[75,12,81,21,"Authorization"],[75,25,81,34],[75,27,81,36],[75,37,81,46,"token"],[75,42,81,51],[76,10,81,54],[77,8,82,8],[77,9,82,9],[77,10,82,10],[78,8,84,8,"set"],[78,11,84,11],[78,12,84,12],[79,10,85,10,"user"],[79,14,85,14],[79,16,85,16,"response"],[79,24,85,24],[79,25,85,25,"data"],[79,29,85,29],[79,30,85,30,"user"],[79,34,85,34],[80,10,86,10,"profile"],[80,17,86,17],[80,19,86,19,"response"],[80,27,86,27],[80,28,86,28,"data"],[80,32,86,32],[80,33,86,33,"profile"],[80,40,86,40],[81,10,87,10,"token"],[81,15,87,15],[82,10,88,10,"isAuthenticated"],[82,25,88,25],[82,27,88,27],[83,8,89,8],[83,9,89,9],[83,10,89,10],[84,6,90,6],[84,7,90,7],[84,8,90,8],[84,15,90,15,"error"],[84,20,90,20],[84,22,90,22],[85,8,91,8,"console"],[85,15,91,15],[85,16,91,16,"error"],[85,21,91,21],[85,22,91,22],[85,48,91,48],[85,50,91,50,"error"],[85,55,91,55],[85,56,91,56],[86,8,92,8],[86,14,92,14,"get"],[86,17,92,17],[86,18,92,18],[86,19,92,19],[86,20,92,20,"logout"],[86,26,92,26],[86,27,92,27],[86,28,92,28],[87,6,93,6],[87,7,93,7],[87,16,93,16],[88,8,94,8,"set"],[88,11,94,11],[88,12,94,12],[89,10,94,14,"isLoading"],[89,19,94,23],[89,21,94,25],[90,8,94,31],[90,9,94,32],[90,10,94,33],[91,6,95,6],[92,4,96,4],[92,5,96,5],[93,4,98,4,"setupProfile"],[93,16,98,16],[93,18,98,18],[93,24,98,25,"data"],[93,28,98,29],[93,32,98,34],[94,6,99,6],[94,10,99,10],[95,8,100,8],[95,14,100,14],[96,10,100,16,"token"],[97,8,100,22],[97,9,100,23],[97,12,100,26,"get"],[97,15,100,29],[97,16,100,30],[97,17,100,31],[98,8,101,8],[98,14,101,14,"apiClient"],[98,32,101,23],[98,33,101,23,"apiClient"],[98,42,101,23],[98,43,101,24,"post"],[98,47,101,28],[98,48,101,29],[98,64,101,45],[98,66,101,47,"data"],[98,70,101,51],[98,72,101,53],[99,10,102,10,"headers"],[99,17,102,17],[99,19,102,19],[100,12,102,21,"Authorization"],[100,25,102,34],[100,27,102,36],[100,37,102,46,"token"],[100,42,102,51],[101,10,102,54],[102,8,103,8],[102,9,103,9],[102,10,103,10],[104,8,105,8],[105,8,106,8],[105,14,106,14,"get"],[105,17,106,17],[105,18,106,18],[105,19,106,19],[105,20,106,20,"loadUserData"],[105,32,106,32],[105,33,106,33],[105,34,106,34],[106,6,107,6],[106,7,107,7],[106,8,107,8],[106,15,107,15,"error"],[106,20,107,20],[106,22,107,22],[107,8,108,8,"console"],[107,15,108,15],[107,16,108,16,"error"],[107,21,108,21],[107,22,108,22],[107,49,108,49],[107,51,108,51,"error"],[107,56,108,56],[107,57,108,57],[108,8,109,8],[108,14,109,14,"error"],[108,19,109,19],[109,6,110,6],[110,4,111,4],[110,5,111,5],[111,4,113,4,"authenticate"],[111,16,113,16],[111,18,113,18],[111,24,113,18,"authenticate"],[111,25,113,25,"phone"],[111,30,113,30],[111,32,113,32,"otp"],[111,35,113,35],[111,40,113,40],[112,6,114,6],[112,10,114,10],[113,8,115,8],[113,14,115,14,"response"],[113,22,115,22],[113,25,115,25],[113,31,115,31,"apiClient"],[113,49,115,40],[113,50,115,40,"apiClient"],[113,59,115,40],[113,60,115,41,"post"],[113,64,115,45],[113,65,115,46],[113,79,115,60],[113,81,115,62],[114,10,115,64,"phone"],[114,15,115,69],[115,10,115,71,"otp"],[116,8,115,75],[116,9,115,76],[116,10,115,77],[117,8,116,8],[117,14,116,14],[118,10,116,16,"token"],[118,15,116,21],[119,10,116,23,"user_id"],[120,8,116,31],[120,9,116,32],[120,12,116,35,"response"],[120,20,116,43],[120,21,116,44,"data"],[120,25,116,48],[121,8,118,8],[121,14,118,14,"get"],[121,17,118,17],[121,18,118,18],[121,19,118,19],[121,20,118,20,"setToken"],[121,28,118,28],[121,29,118,29,"token"],[121,34,118,34],[121,35,118,35],[122,8,119,8],[122,14,119,14,"get"],[122,17,119,17],[122,18,119,18],[122,19,119,19],[122,20,119,20,"loadUserData"],[122,32,119,32],[122,33,119,33],[122,34,119,34],[123,8,121,8],[123,15,121,15],[123,19,121,19],[124,6,122,6],[124,7,122,7],[124,8,122,8],[124,15,122,15,"error"],[124,20,122,20],[124,22,122,22],[125,8,123,8,"console"],[125,15,123,15],[125,16,123,16,"error"],[125,21,123,21],[125,22,123,22],[125,45,123,45],[125,47,123,47,"error"],[125,52,123,52],[125,53,123,53],[126,8,124,8],[126,15,124,15],[126,20,124,20],[127,6,125,6],[128,4,126,4],[129,2,127,2],[129,3,127,3],[129,4,128,0],[129,5,128,1],[131,2,130,0],[132,2,131,0],[132,8,131,6,"initializeAuth"],[132,22,131,20],[132,25,131,23],[132,31,131,23,"initializeAuth"],[132,32,131,23],[132,37,131,35],[133,4,132,2],[133,10,132,8,"token"],[133,15,132,13],[133,18,132,16],[133,24,132,22,"SecureStore"],[133,35,132,33],[133,36,132,34,"getItemAsync"],[133,48,132,46],[133,49,132,47],[133,61,132,59],[133,62,132,60],[134,4,133,2],[134,8,133,6,"token"],[134,13,133,11],[134,15,133,13],[135,6,134,4,"useAuthStore"],[135,18,134,16],[135,19,134,17,"getState"],[135,27,134,25],[135,28,134,26],[135,29,134,27],[135,30,134,28,"loadUserData"],[135,42,134,40],[135,43,134,41],[135,44,134,42],[136,4,135,2],[137,2,136,0],[137,3,136,1],[138,2,138,0,"initializeAuth"],[138,16,138,14],[138,17,138,15],[138,18,138,16],[139,0,138,17],[139,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setProfile","setToken","logout","loadUserData","setupProfile","authenticate","initializeAuth"],"mappings":"AAA;EC2C;aCO,uBD;gBEE,6BF;cGE;KHG;YIE;KJQ;kBKE;KL0B;kBME;KNa;kBOE;KPa;IDC;uBSI;CTK"},"hasCjsExports":false},"type":"js/module"}]}