{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":49,"index":218}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../services/apiClient","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":219},"end":{"line":5,"column":50,"index":269}}],"key":"d/HXpukAiWkGTCYty91WRV0J1/M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoSecureStore = require(_dependencyMap[3], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _servicesApiClient = require(_dependencyMap[4], \"../services/apiClient\");\n  const useAuthStore = (0, _zustand.create)()()((0, _zustandMiddleware.persist)((set, get) => ({\n    user: null,\n    profile: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: false,\n    setUser: user => set({\n      user\n    }),\n    setProfile: profile => set({\n      profile\n    }),\n    setToken: async token => {\n      await SecureStore.setItemAsync('auth_token', token);\n      set({\n        token,\n        isAuthenticated: true\n      });\n    },\n    logout: async () => {\n      await SecureStore.deleteItemAsync('auth_token');\n      set({\n        user: null,\n        profile: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadUserData: async () => {\n      try {\n        set({\n          isLoading: true\n        });\n        const token = await SecureStore.getItemAsync('auth_token');\n        if (!token) {\n          set({\n            isAuthenticated: false,\n            isLoading: false\n          });\n          return;\n        }\n        const response = await _servicesApiClient.apiClient.get('/me', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        set({\n          user: response.data.user,\n          profile: response.data.profile,\n          token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        console.error('Error loading user data:', error);\n        await get().logout();\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    },\n    setupProfile: async data => {\n      try {\n        const {\n          token\n        } = get();\n        await _servicesApiClient.apiClient.post('/profile/setup', data, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Reload user data to get updated profile\n        await get().loadUserData();\n      } catch (error) {\n        console.error('Error setting up profile:', error);\n        throw error;\n      }\n    },\n    authenticate: async (phone, otp) => {\n      try {\n        const response = await _servicesApiClient.apiClient.post('/auth/verify', {\n          phone,\n          otp\n        });\n        const {\n          token,\n          user_id\n        } = response.data;\n        await get().setToken(token);\n        await get().loadUserData();\n        return true;\n      } catch (error) {\n        console.error('Authentication error:', error);\n        return false;\n      }\n    }\n  }), {\n    name: 'auth-storage',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      user: state.user,\n      profile: state.profile,\n      isAuthenticated: state.isAuthenticated\n    })\n  }));\n\n  // Initialize auth state on app start\n  const initializeAuth = async () => {\n    const token = await SecureStore.getItemAsync('auth_token');\n    if (token) {\n      useAuthStore.getState().loadUserData();\n    }\n  };\n  initializeAuth();\n});","lineCount":155,"map":[[27,2,43,0,"Object"],[27,8,43,0],[27,9,43,0,"defineProperty"],[27,23,43,0],[27,24,43,0,"exports"],[27,31,43,0],[28,4,43,0,"enumerable"],[28,14,43,0],[29,4,43,0,"get"],[29,7,43,0],[29,18,43,0,"get"],[29,19,43,0],[30,6,43,0],[30,13,43,0,"useAuthStore"],[30,25,43,0],[31,4,43,0],[32,2,43,0],[33,2,1,0],[33,6,1,0,"_zustand"],[33,14,1,0],[33,17,1,0,"require"],[33,24,1,0],[33,25,1,0,"_dependencyMap"],[33,39,1,0],[34,2,2,0],[34,6,2,0,"_zustandMiddleware"],[34,24,2,0],[34,27,2,0,"require"],[34,34,2,0],[34,35,2,0,"_dependencyMap"],[34,49,2,0],[35,2,3,0],[35,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[35,42,3,0],[35,45,3,0,"require"],[35,52,3,0],[35,53,3,0,"_dependencyMap"],[35,67,3,0],[36,2,3,0],[36,6,3,0,"AsyncStorage"],[36,18,3,0],[36,21,3,0,"_interopDefault"],[36,36,3,0],[36,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[36,73,3,0],[37,2,4,0],[37,6,4,0,"_expoSecureStore"],[37,22,4,0],[37,25,4,0,"require"],[37,32,4,0],[37,33,4,0,"_dependencyMap"],[37,47,4,0],[38,2,4,0],[38,6,4,0,"SecureStore"],[38,17,4,0],[38,20,4,0,"_interopNamespace"],[38,37,4,0],[38,38,4,0,"_expoSecureStore"],[38,54,4,0],[39,2,5,0],[39,6,5,0,"_servicesApiClient"],[39,24,5,0],[39,27,5,0,"require"],[39,34,5,0],[39,35,5,0,"_dependencyMap"],[39,49,5,0],[40,2,43,7],[40,8,43,13,"useAuthStore"],[40,20,43,25],[40,23,43,28],[40,27,43,28,"create"],[40,35,43,34],[40,36,43,34,"create"],[40,42,43,34],[40,44,43,46],[40,45,43,47],[40,46,43,48],[40,47,43,49],[40,48,44,3],[40,52,44,3,"persist"],[40,70,44,10],[40,71,44,10,"persist"],[40,78,44,10],[40,80,45,4],[40,81,45,5,"set"],[40,84,45,8],[40,86,45,10,"get"],[40,89,45,13],[40,95,45,19],[41,4,46,6,"user"],[41,8,46,10],[41,10,46,12],[41,14,46,16],[42,4,47,6,"profile"],[42,11,47,13],[42,13,47,15],[42,17,47,19],[43,4,48,6,"token"],[43,9,48,11],[43,11,48,13],[43,15,48,17],[44,4,49,6,"isAuthenticated"],[44,19,49,21],[44,21,49,23],[44,26,49,28],[45,4,50,6,"isLoading"],[45,13,50,15],[45,15,50,17],[45,20,50,22],[46,4,52,6,"setUser"],[46,11,52,13],[46,13,52,16,"user"],[46,17,52,20],[46,21,52,25,"set"],[46,24,52,28],[46,25,52,29],[47,6,52,31,"user"],[48,4,52,36],[48,5,52,37],[48,6,52,38],[49,4,54,6,"setProfile"],[49,14,54,16],[49,16,54,19,"profile"],[49,23,54,26],[49,27,54,31,"set"],[49,30,54,34],[49,31,54,35],[50,6,54,37,"profile"],[51,4,54,45],[51,5,54,46],[51,6,54,47],[52,4,56,6,"setToken"],[52,12,56,14],[52,14,56,16],[52,20,56,23,"token"],[52,25,56,28],[52,29,56,33],[53,6,57,8],[53,12,57,14,"SecureStore"],[53,23,57,25],[53,24,57,26,"setItemAsync"],[53,36,57,38],[53,37,57,39],[53,49,57,51],[53,51,57,53,"token"],[53,56,57,58],[53,57,57,59],[54,6,58,8,"set"],[54,9,58,11],[54,10,58,12],[55,8,58,14,"token"],[55,13,58,19],[56,8,58,21,"isAuthenticated"],[56,23,58,36],[56,25,58,38],[57,6,58,43],[57,7,58,44],[57,8,58,45],[58,4,59,6],[58,5,59,7],[59,4,61,6,"logout"],[59,10,61,12],[59,12,61,14],[59,18,61,14,"logout"],[59,19,61,14],[59,24,61,26],[60,6,62,8],[60,12,62,14,"SecureStore"],[60,23,62,25],[60,24,62,26,"deleteItemAsync"],[60,39,62,41],[60,40,62,42],[60,52,62,54],[60,53,62,55],[61,6,63,8,"set"],[61,9,63,11],[61,10,63,12],[62,8,64,10,"user"],[62,12,64,14],[62,14,64,16],[62,18,64,20],[63,8,65,10,"profile"],[63,15,65,17],[63,17,65,19],[63,21,65,23],[64,8,66,10,"token"],[64,13,66,15],[64,15,66,17],[64,19,66,21],[65,8,67,10,"isAuthenticated"],[65,23,67,25],[65,25,67,27],[66,6,68,8],[66,7,68,9],[66,8,68,10],[67,4,69,6],[67,5,69,7],[68,4,71,6,"loadUserData"],[68,16,71,18],[68,18,71,20],[68,24,71,20,"loadUserData"],[68,25,71,20],[68,30,71,32],[69,6,72,8],[69,10,72,12],[70,8,73,10,"set"],[70,11,73,13],[70,12,73,14],[71,10,73,16,"isLoading"],[71,19,73,25],[71,21,73,27],[72,8,73,32],[72,9,73,33],[72,10,73,34],[73,8,74,10],[73,14,74,16,"token"],[73,19,74,21],[73,22,74,24],[73,28,74,30,"SecureStore"],[73,39,74,41],[73,40,74,42,"getItemAsync"],[73,52,74,54],[73,53,74,55],[73,65,74,67],[73,66,74,68],[74,8,76,10],[74,12,76,14],[74,13,76,15,"token"],[74,18,76,20],[74,20,76,22],[75,10,77,12,"set"],[75,13,77,15],[75,14,77,16],[76,12,77,18,"isAuthenticated"],[76,27,77,33],[76,29,77,35],[76,34,77,40],[77,12,77,42,"isLoading"],[77,21,77,51],[77,23,77,53],[78,10,77,59],[78,11,77,60],[78,12,77,61],[79,10,78,12],[80,8,79,10],[81,8,81,10],[81,14,81,16,"response"],[81,22,81,24],[81,25,81,27],[81,31,81,33,"apiClient"],[81,49,81,42],[81,50,81,42,"apiClient"],[81,59,81,42],[81,60,81,43,"get"],[81,63,81,46],[81,64,81,47],[81,69,81,52],[81,71,81,54],[82,10,82,12,"headers"],[82,17,82,19],[82,19,82,21],[83,12,82,23,"Authorization"],[83,25,82,36],[83,27,82,38],[83,37,82,48,"token"],[83,42,82,53],[84,10,82,56],[85,8,83,10],[85,9,83,11],[85,10,83,12],[86,8,85,10,"set"],[86,11,85,13],[86,12,85,14],[87,10,86,12,"user"],[87,14,86,16],[87,16,86,18,"response"],[87,24,86,26],[87,25,86,27,"data"],[87,29,86,31],[87,30,86,32,"user"],[87,34,86,36],[88,10,87,12,"profile"],[88,17,87,19],[88,19,87,21,"response"],[88,27,87,29],[88,28,87,30,"data"],[88,32,87,34],[88,33,87,35,"profile"],[88,40,87,42],[89,10,88,12,"token"],[89,15,88,17],[90,10,89,12,"isAuthenticated"],[90,25,89,27],[90,27,89,29],[91,8,90,10],[91,9,90,11],[91,10,90,12],[92,6,91,8],[92,7,91,9],[92,8,91,10],[92,15,91,17,"error"],[92,20,91,22],[92,22,91,24],[93,8,92,10,"console"],[93,15,92,17],[93,16,92,18,"error"],[93,21,92,23],[93,22,92,24],[93,48,92,50],[93,50,92,52,"error"],[93,55,92,57],[93,56,92,58],[94,8,93,10],[94,14,93,16,"get"],[94,17,93,19],[94,18,93,20],[94,19,93,21],[94,20,93,22,"logout"],[94,26,93,28],[94,27,93,29],[94,28,93,30],[95,6,94,8],[95,7,94,9],[95,16,94,18],[96,8,95,10,"set"],[96,11,95,13],[96,12,95,14],[97,10,95,16,"isLoading"],[97,19,95,25],[97,21,95,27],[98,8,95,33],[98,9,95,34],[98,10,95,35],[99,6,96,8],[100,4,97,6],[100,5,97,7],[101,4,99,6,"setupProfile"],[101,16,99,18],[101,18,99,20],[101,24,99,27,"data"],[101,28,99,31],[101,32,99,36],[102,6,100,8],[102,10,100,12],[103,8,101,10],[103,14,101,16],[104,10,101,18,"token"],[105,8,101,24],[105,9,101,25],[105,12,101,28,"get"],[105,15,101,31],[105,16,101,32],[105,17,101,33],[106,8,102,10],[106,14,102,16,"apiClient"],[106,32,102,25],[106,33,102,25,"apiClient"],[106,42,102,25],[106,43,102,26,"post"],[106,47,102,30],[106,48,102,31],[106,64,102,47],[106,66,102,49,"data"],[106,70,102,53],[106,72,102,55],[107,10,103,12,"headers"],[107,17,103,19],[107,19,103,21],[108,12,103,23,"Authorization"],[108,25,103,36],[108,27,103,38],[108,37,103,48,"token"],[108,42,103,53],[109,10,103,56],[110,8,104,10],[110,9,104,11],[110,10,104,12],[112,8,106,10],[113,8,107,10],[113,14,107,16,"get"],[113,17,107,19],[113,18,107,20],[113,19,107,21],[113,20,107,22,"loadUserData"],[113,32,107,34],[113,33,107,35],[113,34,107,36],[114,6,108,8],[114,7,108,9],[114,8,108,10],[114,15,108,17,"error"],[114,20,108,22],[114,22,108,24],[115,8,109,10,"console"],[115,15,109,17],[115,16,109,18,"error"],[115,21,109,23],[115,22,109,24],[115,49,109,51],[115,51,109,53,"error"],[115,56,109,58],[115,57,109,59],[116,8,110,10],[116,14,110,16,"error"],[116,19,110,21],[117,6,111,8],[118,4,112,6],[118,5,112,7],[119,4,114,6,"authenticate"],[119,16,114,18],[119,18,114,20],[119,24,114,20,"authenticate"],[119,25,114,27,"phone"],[119,30,114,32],[119,32,114,34,"otp"],[119,35,114,37],[119,40,114,42],[120,6,115,8],[120,10,115,12],[121,8,116,10],[121,14,116,16,"response"],[121,22,116,24],[121,25,116,27],[121,31,116,33,"apiClient"],[121,49,116,42],[121,50,116,42,"apiClient"],[121,59,116,42],[121,60,116,43,"post"],[121,64,116,47],[121,65,116,48],[121,79,116,62],[121,81,116,64],[122,10,116,66,"phone"],[122,15,116,71],[123,10,116,73,"otp"],[124,8,116,77],[124,9,116,78],[124,10,116,79],[125,8,117,10],[125,14,117,16],[126,10,117,18,"token"],[126,15,117,23],[127,10,117,25,"user_id"],[128,8,117,33],[128,9,117,34],[128,12,117,37,"response"],[128,20,117,45],[128,21,117,46,"data"],[128,25,117,50],[129,8,119,10],[129,14,119,16,"get"],[129,17,119,19],[129,18,119,20],[129,19,119,21],[129,20,119,22,"setToken"],[129,28,119,30],[129,29,119,31,"token"],[129,34,119,36],[129,35,119,37],[130,8,120,10],[130,14,120,16,"get"],[130,17,120,19],[130,18,120,20],[130,19,120,21],[130,20,120,22,"loadUserData"],[130,32,120,34],[130,33,120,35],[130,34,120,36],[131,8,122,10],[131,15,122,17],[131,19,122,21],[132,6,123,8],[132,7,123,9],[132,8,123,10],[132,15,123,17,"error"],[132,20,123,22],[132,22,123,24],[133,8,124,10,"console"],[133,15,124,17],[133,16,124,18,"error"],[133,21,124,23],[133,22,124,24],[133,45,124,47],[133,47,124,49,"error"],[133,52,124,54],[133,53,124,55],[134,8,125,10],[134,15,125,17],[134,20,125,22],[135,6,126,8],[136,4,127,6],[137,2,128,4],[137,3,128,5],[137,4,128,6],[137,6,129,4],[138,4,130,6,"name"],[138,8,130,10],[138,10,130,12],[138,24,130,26],[139,4,131,6,"storage"],[139,11,131,13],[139,13,131,15],[139,17,131,15,"createJSONStorage"],[139,35,131,32],[139,36,131,32,"createJSONStorage"],[139,53,131,32],[139,55,131,33],[139,61,131,39,"AsyncStorage"],[139,73,131,51],[139,74,131,51,"default"],[139,81,131,51],[139,82,131,52],[140,4,132,6,"partialize"],[140,14,132,16],[140,16,132,19,"state"],[140,21,132,24],[140,26,132,30],[141,6,133,8,"user"],[141,10,133,12],[141,12,133,14,"state"],[141,17,133,19],[141,18,133,20,"user"],[141,22,133,24],[142,6,134,8,"profile"],[142,13,134,15],[142,15,134,17,"state"],[142,20,134,22],[142,21,134,23,"profile"],[142,28,134,30],[143,6,135,8,"isAuthenticated"],[143,21,135,23],[143,23,135,25,"state"],[143,28,135,30],[143,29,135,31,"isAuthenticated"],[144,4,136,6],[144,5,136,7],[145,2,137,4],[145,3,138,2],[145,4,138,3],[145,5,138,4],[147,2,140,0],[148,2,141,0],[148,8,141,6,"initializeAuth"],[148,22,141,20],[148,25,141,23],[148,31,141,23,"initializeAuth"],[148,32,141,23],[148,37,141,35],[149,4,142,2],[149,10,142,8,"token"],[149,15,142,13],[149,18,142,16],[149,24,142,22,"SecureStore"],[149,35,142,33],[149,36,142,34,"getItemAsync"],[149,48,142,46],[149,49,142,47],[149,61,142,59],[149,62,142,60],[150,4,143,2],[150,8,143,6,"token"],[150,13,143,11],[150,15,143,13],[151,6,144,4,"useAuthStore"],[151,18,144,16],[151,19,144,17,"getState"],[151,27,144,25],[151,28,144,26],[151,29,144,27],[151,30,144,28,"loadUserData"],[151,42,144,40],[151,43,144,41],[151,44,144,42],[152,4,145,2],[153,2,146,0],[153,3,146,1],[154,2,148,0,"initializeAuth"],[154,16,148,14],[154,17,148,15],[154,18,148,16],[155,0,148,17],[155,3]],"functionMap":{"names":["<global>","persist$argument_0","setUser","setProfile","setToken","logout","loadUserData","setupProfile","authenticate","createJSONStorage$argument_0","persist$argument_1.partialize","initializeAuth"],"mappings":"AAA;IC4C;eCO,uBD;kBEE,6BF;gBGE;OHG;cIE;OJQ;oBKE;OL0B;oBME;ONa;oBOE;OPa;MDC;iCSG,kBT;kBUC;QVI;uBWK;CXK"},"hasCjsExports":false},"type":"js/module"}]}